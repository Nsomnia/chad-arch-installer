# GLM5 Chad Arch Installer - Default Configuration
# 
# This file contains sensible defaults for the installer.
# Override by creating your own config or using the wizard.
#

# System Configuration
system:
  hostname: arch-chad
  timezone: UTC
  locale: en_US.UTF-8
  keymap: us
  cpu_vendor: auto  # auto, intel, or amd

# Storage Configuration
storage:
  # EFI partition size in MB
  efi_size_mb: 1024
  
  # Disk wipe method: quick, secure, discard, skip
  wipe_method: quick
  
  # LUKS encryption
  luks:
    enabled: false
    cipher: aes-xts-plain64
    key_size: 512
    hash: sha512
    pbkdf: argon2id
  
  # BTRFS settings
  btrfs:
    label: ARCH
    compress: zstd:3  # zstd:1-19, lzo, lz4, none
    mount_options: noatime,commit=120
    subvolumes:
      - "@:/"
      - "@home:/home"
      - "@root:/root"
      - "@var:/var"
      - "@var_log:/var/log"
      - "@var_cache:/var/cache"
      - "@snapshots:/.snapshots"
      - "@home_snapshots:/home/.snapshots"
    nocow_subvolumes:
      - "@var"
      - "@var_cache"
  
  # Swap
  swap_size_mb: 4096
  use_zram: false

# Boot Configuration
boot:
  # Main kernel
  kernel: auto  # auto, linux, linux-lts, linux-hardened, linux-zen, 
                # linux-cachyos, linux-cachyos-bore, linux-lqx, linux-xanmod
  
  # Fallback kernel (optional)
  kernel_fallback: linux-lts
  
  # Bootloader
  loader: auto  # auto, systemd-boot, grub, limine, refind
                # Note: grub is required for Chromebooks and BIOS systems
  
  # Secure Boot (experimental)
  secure_boot: false
  
  # Kernel parameters
  kernel_parameters: ""

# Kernel Configuration
kernels:
  # Additional kernels to install
  additional: []
  # - linux-lts
  # - linux-zen
  
  # Kernel compression
  compression: zstd
  
  # Install microcode
  microcode: auto  # auto, intel, amd, none

# Snapper Configuration
snapper:
  enabled: true
  hourly: 10
  daily: 7
  weekly: 4
  monthly: 6
  yearly: 2
  pacman_hooks: true

# Unofficial Repositories
repos:
  # CachyOS optimized packages
  cachyos: false
  cachyos_v3: false  # Requires AVX2 CPU
  cachyos_v4: false  # Requires AVX512 CPU
  
  # Chaotic-AUR
  chaotic: false
  
  # Arch Linux CN
  archlinuxcn: false
  
  # ZFS
  archzfs: false
  
  # ALHP (optimized official packages)
  alhp: false
  alhp_v3: false
  alhp_v4: false

# Hardware Configuration
hardware:
  # GPU driver: auto, nvidia, amd, intel, nouveau
  gpu_driver: auto
  
  # AMD specific
  amd_legacy: false  # Enable for R200/R600/R700 series
  amd_dpm: true
  
  # NVIDIA specific  
  nvidia_dkms: false  # Use DKMS driver instead of proprietary
  nvidia_prime: false  # For hybrid graphics
  
  # Chromebook
  chromebook: false  # Auto-detected, enables GRUB requirement

# Optimization Settings
optimize:
  makepkg:
    parallel: auto  # auto or number
    compiler_flags: auto
    lto: true
    linker: auto  # auto, mold, lld, gold, bfd
  
  sysctl:
    swappiness: 10
    vfs_cache_pressure: 50
    dirty_ratio: 20
    dirty_background_ratio: 5
  
  io_scheduler:
    ssd: bfq
    hdd: bfq
    nvme: none

# Network Configuration
network:
  hostname: arch-chad
  enable_ssh: true
  ssh_port: 22
  firewall: false

# Desktop Environment
desktop:
  enabled: false
  environment: hyprland  # hyprland, kde, gnome, sway, xfce, i3, cinnamon, budgie
  display_manager: auto  # auto, sddm, gdm, lightdm, lxdm
  
# AUR Helper
aur:
  enabled: false
  helper: paru  # paru, yay, pakku, aurman

# Backup Settings
backup:
  paths:
    - /etc
    - /root
    - /home
    - /var/lib/pacman
    - /usr/local/bin
  include_gpg_keys: true
  include_ssh_keys: true
  compression: zstd

# User Configuration (will be prompted if not set)
user:
  name: ""
  shell: /bin/bash
  groups:
    - wheel
    - video
    - audio
    - storage
    - network

# Post-Install Hooks
post_install:
  # Commands to run after installation
  commands: []
  # - "systemctl enable docker"
  # - "usermod -aG docker username"
